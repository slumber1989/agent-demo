import{d as M,j as h,bk as m,a$ as x,x as o}from"./index-ChJwsExv.js";import{b as e}from"./bot-BoE_e8Or.js";const u="_modal_wrapper_1lehd_1",l="_header_1lehd_7",w="_share_choise_wrap_1lehd_19",j="_choice_1lehd_27",s={modal_wrapper:u,header:l,share_choise_wrap:w,choice:j},O=({selectedBot:a})=>{const{t:n}=M(),_=()=>{m({relateId:a==null?void 0:a.botId,relateType:0}).then(r=>{x({text:n("shareModal.shareOriginModal.shareText",{botName:(a==null?void 0:a.botName)||(a==null?void 0:a.bot_name),origin:window.location.origin,shareKey:r.shareAgentKey,botId:a==null?void 0:a.botId}),successText:n("shareModal.shareOriginModal.successCopyLink")})}).catch(r=>{o.error((r==null?void 0:r.desc)||(r==null?void 0:r.msg)||n("shareModal.shareOriginModal.serverError"))})},g=()=>{var r;if((r=e)!=null&&r[String(a==null?void 0:a.botId)]){o.info(n("shareModal.shareOriginModal.cannotShareWechat"));return}m({relateId:a==null?void 0:a.botId,relateType:0}).then(i=>{const p={type:"bot",shareKey:i.shareAgentKey,title:a==null?void 0:a.bot_name},d=Object.keys(p).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(p[c])}`).join("&"),b=encodeURIComponent(d),y=`我发现了${(a==null?void 0:a.botName)||(a==null?void 0:a.bot_name)}，快试试和ta对话吧！weixin://dl/business/?username=gh_f04ca92ae774&appid=wx16326d914fde65b8&path=pages/homepage/index&query=${b}`;x({text:y,successText:n("shareModal.shareOriginModal.successCopyWechatLink")})}).catch(i=>{o.error((i==null?void 0:i.desc)||(i==null?void 0:i.msg)||n("shareModal.shareOriginModal.serverError"))})};return h.jsxs("div",{className:s.modal_wrapper,onClick:r=>{r.stopPropagation()},children:[h.jsx("div",{className:s.header,children:n("shareModal.shareOriginModal.shareTitle")}),h.jsxs("div",{className:s.share_choise_wrap,children:[h.jsxs("div",{className:s.choice,onClick:_,children:[h.jsx("img",{src:"https://openres.xfyun.cn/xfyundoc/2025-06-30/7bf56a8f-401d-497b-ac5a-db995687157e/1751265352374/link.svg",alt:""}),h.jsx("p",{children:n("shareModal.shareOriginModal.copyLink")})]}),h.jsxs("div",{className:s.choice,children:[h.jsx("img",{src:"https://openres.xfyun.cn/xfyundoc/2025-06-30/63b99ab0-8840-4b2e-85ec-cf01c9cda8ea/1751265352375/weichat.svg",alt:"",onClick:g}),h.jsx("p",{style:{whiteSpace:"nowrap"},children:n("shareModal.shareOriginModal.shareToWechat")})]})]})]})};export{O as S};
